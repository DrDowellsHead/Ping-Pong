# üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É P2P Pong Game

***üéØ –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è***

–ò–≥—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç P2P-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å SSL-—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º. –û–¥–∏–Ω –∏–≥—Ä–æ–∫ –≤—ã—Å—Ç—É–ø–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä–æ–º, –≤—Ç–æ—Ä–æ–π - –∫–ª–∏–µ–Ω—Ç–æ–º.

# üìö –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

# üêß Ubuntu/Debian:

1. –î–ª—è –Ω–∞—á–∞–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ gcc –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä:

```bash
apt install -y build-essential make gcc
```

2. ncurses
```bash
apt install -y libncurses-dev
```

(–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫ –Ω–∏–∂–µ)

3. ssl
```bash
apt install -y libssl-dev openssl
# –∏–ª–∏
apt install -y libssl-dev
```

4. crypto
```bash
apt install -y libcrypto++-dev
```

# üî¥ –î–ª—è RedHat/CentOS/Fedora:

```bash
# –î–ª—è RedHat/CentOS:
sudo yum install -y gcc make ncurses-devel openssl-devel
```

```bash
# –î–ª—è Fedora:
sudo dnf install -y gcc make ncurses-devel openssl-devel net-tools curl
```

# üçé –î–ª—è macOS:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Homebrew (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ Homebrew
brew update
brew install openssl ncurses make gcc

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ openssl –≤ PATH (–º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è)
echo 'export PATH="/usr/local/opt/openssl@3/bin:$PATH"' >> ~/.zshrc
source ~/.zshrc
```

# ü™ü –î–ª—è Windows (WSL2):

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ WSL2 (–≤ PowerShell –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)
wsl --install

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Ubuntu –≤ WSL
wsl --install -d Ubuntu

# –í WSL Ubuntu –≤—ã–ø–æ–ª–Ω–∏—Ç—å:
sudo apt update && sudo apt upgrade -y
sudo apt install -y build-essential libncurses-dev libssl-dev make gcc net-tools curl
```

# –ú–æ–∂–µ—Ç–µ —Ç–∞–∫–∂–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–∫—Ä–∏–ø—Ç–æ–º —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ "install_depencedencies.sh"üôÉ

######################################################################################################

# üñ•Ô∏è –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞–ø—É—Å–∫ –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω–∞—Ö (VM)

–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:

- –î–≤–µ VM —Å Ubuntu/Linux
- –°–µ—Ç–µ–≤–æ–π –º–æ—Å—Ç (bridged network) –¥–ª—è –ø—Ä—è–º–æ–π —Å–≤—è–∑–∏ –º–µ–∂–¥—É VM
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: build-essential libncurses-dev libssl-dev

# –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∏ –Ω–∞ VM

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ IP-–∞–¥—Ä–µ—Å–∞ –Ω–∞ –æ–±–µ–∏—Ö VM
ip addr show

# –†–∞–∑—Ä–µ—à–∏—Ç–µ –ø–æ—Ä—Ç 8080 –≤ firewall
sudo ufw allow 8080/tcp
sudo ufw enable
```

# –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

```bash
# –ù–∞ –û–ë–û–ò–• –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –≥–¥–µ –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω–∞ –∏–≥—Ä–∞:
openssl req -x509 -newkey rsa:4096 -keyout key.pem -out cert.pem -days 365 -nodes -subj "/C=RU/ST=Moscow/L=Moscow/O=PongGame/CN=localhost"

# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞–ª–∏—Å—å:
ls -la cert.pem key.pem
```

# –®–∞–≥ 3: –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∏–≥—Ä—ã

```bash
# –ù–∞ –æ–±–æ–∏—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö:
make clean
make
```

# –®–∞–≥ 4: –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã

1. –ù–∞ VM 1 (–°–µ—Ä–≤–µ—Ä):
```bash
./pong_game
# –í—ã–±–µ—Ä–∏—Ç–µ: 1 - Wait for opponent
# –ó–∞–ø–∏—à–∏—Ç–µÊòæÁ§∫ÁöÑ IP-–∞–¥—Ä–µ—Å
```

2. –ù–∞ VM 2 (–ö–ª–∏–µ–Ω—Ç):
```bash
./pong_game
# –í—ã–±–µ—Ä–∏—Ç–µ: 2 - Connect to opponent
# –í–≤–µ–¥–∏—Ç–µ IP-–∞–¥—Ä–µ—Å VM 1
```

# üíª –í–∞—Ä–∏–∞–Ω—Ç 2: –ó–∞–ø—É—Å–∫ –Ω–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏

–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:

- –ö–æ–º–ø—å—é—Ç–µ—Ä—ã –≤ –æ–¥–Ω–æ–π LAN —Å–µ—Ç–∏ (Wi-Fi/Ethernet)
- –û—Ç–∫–ª—é—á–µ–Ω firewall –∏–ª–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω –ø–æ—Ä—Ç 8080
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: build-essential libncurses-dev libssl-dev

# –®–∞–≥ 1: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ IP-–∞–¥—Ä–µ—Å–æ–≤

```bash
# –ù–∞ Linux:
ip addr show

# –ù–∞ Windows:
ipconfig

# –ù–∞ Mac:
ifconfig
```

# –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

```bash
# –ù–∞ –æ–±–æ–∏—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö, –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å —Ñ–∞–π–ª–æ–º –∏–≥—Ä—ã:
openssl req -x509 -newkey rsa:4096 -keyout key.pem -out cert.pem -days 365 -nodes -subj "/C=RU/ST=Moscow/L=Moscow/O=PongGame/CN=localhost"
```

# –®–∞–≥ 3: –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫

1. –ù–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ 1 (–°–µ—Ä–≤–µ—Ä):
```bash
make && ./pong_game
# –í—ã–±–µ—Ä–∏—Ç–µ 1, –∑–∞–ø–æ–º–Ω–∏—Ç–µ IP
```

2. –ù–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ 2 (–ö–ª–∏–µ–Ω—Ç):
```bash
make && ./pong_game  
# –í—ã–±–µ—Ä–∏—Ç–µ 2, –≤–≤–µ–¥–∏—Ç–µ IP –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ 1
```

# üåê –í–∞—Ä–∏–∞–Ω—Ç 3: –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç (—Å –ø—Ä–æ–±—Ä–æ—Å–æ–º –ø–æ—Ä—Ç–æ–≤)

***–î–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π! –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–æ—É—Ç–µ—Ä–∞.***

# –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–±—Ä–æ—Å–∞ –ø–æ—Ä—Ç–æ–≤

1. –ó–∞–π–¥–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–æ—É—Ç–µ—Ä–∞ (–æ–±—ã—á–Ω–æ 192.168.1.1 –∏–ª–∏ 192.168.0.1)
2. –ù–∞–π–¥–∏—Ç–µ "Port Forwarding" –∏–ª–∏ "–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã"
3. –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∏–ª–æ: –ø–æ—Ä—Ç 8080 TCP ‚Üí –ª–æ–∫–∞–ª—å–Ω—ã–π IP —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞

# –®–∞–≥ 2: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–≥–æ IP

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:
curl ifconfig.me
# –∏–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–æ—É—Ç–µ—Ä–∞ "WAN IP"
```
# –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã

–°–µ—Ä–≤–µ—Ä (—Å –ø—Ä–æ–±—Ä–æ—à–µ–Ω–Ω—ã–º –ø–æ—Ä—Ç–æ–º):

```bash
./pong_game
# –í—ã–±–µ—Ä–∏—Ç–µ 1
```

–ö–ª–∏–µ–Ω—Ç (–≥–¥–µ —É–≥–æ–¥–Ω–æ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ):

```bash
./pong_game
# –í—ã–±–µ—Ä–∏—Ç–µ 2, –≤–≤–µ–¥–∏—Ç–µ –≤–Ω–µ—à–Ω–∏–π IP —Å–µ—Ä–≤–µ—Ä–∞
```

# üîß –í–∞—Ä–∏–∞–Ω—Ç 4: –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –æ–¥–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ)

**–®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤**

```bash
openssl req -x509 -newkey rsa:4096 -keyout key.pem -out cert.pem -days 365 -nodes -subj "/C=RU/ST=Moscow/L=Moscow/O=PongGame/CN=localhost"
```

**–®–∞–≥ 2: –ó–∞–ø—É—Å–∫ –≤ –¥–≤—É—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö**

–¢–µ—Ä–º–∏–Ω–∞–ª 1 (–°–µ—Ä–≤–µ—Ä):

```bash
./pong_game
# –í—ã–±–µ—Ä–∏—Ç–µ 1
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ IP 127.0.0.1 –∏–ª–∏ localhost
```
–¢–µ—Ä–º–∏–Ω–∞–ª 2 (–ö–ª–∏–µ–Ω—Ç):

```bash
./pong_game
# –í—ã–±–µ—Ä–∏—Ç–µ 2
# –í–≤–µ–¥–∏—Ç–µ 127.0.0.1 –∏–ª–∏ localhost
```

######################################################################################################

# üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ –∏–≥—Ä–µ

1. –õ–µ–≤—ã–π –∏–≥—Ä–æ–∫ (—Å–µ—Ä–≤–µ—Ä):

A - –¥–≤–∏–∂–µ–Ω–∏–µ –≤–≤–µ—Ä—Ö
Z - –¥–≤–∏–∂–µ–Ω–∏–µ –≤–Ω–∏–∑
Q - –≤—ã—Ö–æ–¥

2. –ü—Ä–∞–≤—ã–π –∏–≥—Ä–æ–∫ (–∫–ª–∏–µ–Ω—Ç):

K - –¥–≤–∏–∂–µ–Ω–∏–µ –≤–≤–µ—Ä—Ö
M - –¥–≤–∏–∂–µ–Ω–∏–µ –≤–Ω–∏–∑
Q - –≤—ã—Ö–æ–¥